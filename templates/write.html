{% extends 'base.html' %}

{% block content %}

{% if element == None %}
<h2 class="pb-2 mb-4 border-bottom border-secondary">Add Element</h2>
<!-- Form to create a new item, posts to /add -->
<form action="/add" method="POST">
{% else %}
<h2 class="pb-2 mb-4 border-bottom border-secondary">Update Element</h2>
<!-- Form to edit a new item, posts to /update -->
<form action="/update/{{ element.id }}" method="POST">
{% endif %}
    <!----------------------------------------- Basic Element Info --------------------------------------------------------------->
    <div class="mb-3">
        <h3>Basic Element Information</h3>

        <!-- Name -->
        <label for="name" class="form-label">Element Name</label>
        <input type="text" id="name" name="name" class="form-control" value="{{ element.name }}" required><br>
        
        <!-- Symbol -->
        <label for="symbol" class="form-label">Element Symbol</label>
        <input type="text" name="symbol" id="symbol" class="form-control" value="{{ element.symbol }}" required><br>

        <!-- Group -->
        <label for="group" class="form-label">Element Group (Number)</label>
        <input type="number" name="group" id="group" min="0" class="form-control" value="{{ element.group }}" required><br>

        <!-- Period -->
        <label for="period" class="form-label">Element Period (Number)</label>
        <input type="number" name="period" id="period" min="0" class="form-control" value="{{ element.period }}" required><br>

        <!-- Atomic Number -->
        <label for="atomic_number" class="form-label">Atomic Number</label>
        <input type="number" class="form-control" step=0.001 min="0" name="atomic_number" id="atomic_number" value="{{ element.atomic_number }}" required><br>
        
        <!-- Atomic Weight -->
        <label for="atomic_weight" class="form-label">Atomic Weight</label>
        <input type="number" class="form-control" step=0.001 min="0" name="atomic_weight" id="atomic_weight" value="{{ element.atomic_weight }}" required><br>
    </div>

    <!----------------------------------------- Coordinates  --------------------------------------------------------------->
    <div class="mb-4 row g-3 align-items-center">
        <div class="col-auto">
            <span class="form-label">
            Coordinates:
            </span>
        </div>
        <div class="col-auto">
            <label hidden for="x_coord">X coordinate</label>
            <input type="number" id="x_coord" class="form-control" name="x_coord" value="{{ element.x_coord }}" placeholder="X coordinate (group)" required>
        </div>
        <div class="col-auto">
            <label hidden for="x_coord">Y coordinate</label>
            <input type="number" id="y_coord" class="form-control" name="y_coord" value="{{ element.y_coord }}" placeholder="Y coordinate (period)" required>
        </div>
    </div>

    <!----------------------------------------- Metallic Classification --------------------------------------------------------------->
    <div>
        <h3>Metallic Classification</h3>
        <div class="mb-4 form-check">
            {% if element.metal == "metal" %}
            <input class="form-check-input" type="radio" id="metal" name="metal" value="metal" checked required>
            {% else %}
            <input class="form-check-input" type="radio" id="metal" name="metal" value="metal" required>
            {% endif %}
            <label class="form-check-label" for="metal">Metal</label><br>

            {% if element.metal == "semi-metal" %}
            <input class="form-check-input" type="radio" id="semimetal" name="metal" value="semi-metal" checked required>
            {% else %}
            <input class="form-check-input" type="radio" id="semimetal" name="metal" value="semi-metal" required>
            {% endif %}
            <label class="form-check-label" for="semimetal">Semi-Metal</label><br>

            {% if element.metal == "non-metal" %}
            <input class="form-check-input" type="radio" id="nonmetal" name="metal" value="non-metal" checked required>
            {% else %}
            <input class="form-check-input" type="radio" id="nonmetal" name="metal" value="non-metal" required>
            {% endif %}
            <label class="form-check-label" for="nonmetal">Non-Metal</label><br>

            {% if element.metal == "unsure" %}
            <input class="form-check-input" type="radio" id="unsure_metal" name="metal" value="unsure" checked required>
            {% else %}
            <input class="form-check-input" type="radio" id="unsure_metal" name="metal" value="unsure" required>
            {% endif %}
            <label class="form-check-label" for="unsure_metal">Unsure</label><br>
        </div>
    </div>

    <!----------------------------------------- Melting and Boiling Point --------------------------------------------------------------->
    <div class="mb-4">
        <h3>Melting and Boiling Point</h3>

        <!-- Melting Point -->
        <div class="mb-3 row g-3 align-items-center">
            <div class="col-auto">
                <label for="melting_point" class="mb-0 form-label">Melting Point</label>
            </div>
            <div class="col-auto">
                <input type="number" step=0.001 min="0" name="melting_point" id="melting_point" class="form-control" value="{{ element.melting_point }}" aria-describedby="mp-help-inline-text">
            </div>
            <div class="col-auto">
                <span id="mp-help-inline-text" class="form-text">
                Melting point at 100kPa in Kelvin.
                </span>
            </div>
        </div>

        <!-- Boiling Point -->
        <div class="mb-3 row g-3 align-items-center">
            <div class="col-auto align-items-center">
                <label for="boiling_point" class="mb-0 form-label">Boiling Point</label>
            </div>
            <div class="col-auto align-items-center">
                <input type="number" step=0.001 min="0" name="boiling_point" id="boiling_point" class="form-control" value="{{ element.boiling_point }}" aria-describedby="bp-help-inline-text">
            </div>
            <div class="col-auto align-items-center">
                <span id="bp-help-inline-text" class="form-text">
                Boiling point at 100kPa in Kelvin.
                </span>
            </div>
        </div>
    </div>

    <!----------------------------------------- Radioactive Properties --------------------------------------------------------------->
    <div>
        <h3>Radioactive Properties</h3>
        <div class="mb-4 form-check">
            {% if element.radioactive == True %}
            <input class="form-check-input" type="radio" id="no_radioactive" name="radioactive" value="not radioactive" required>
            <label class="form-check-label" for="no_radioactive">A stable isotope of this element exists.</label><br>
            <input class="form-check-input" type="radio" id="yes_radioactive" name="radioactive" value="radioactive" checked required>
            <label class="form-check-label" for="yes_radioactive">All known isotopes of this element are radioactive.</label><br>
            {% else %}
            <input class="form-check-input" type="radio" id="no_radioactive" name="radioactive" value="not radioactive" checked required>
            <label class="form-check-label" for="no_radioactive">A stable isotope of this element exists.</label><br>
            <input class="form-check-input" type="radio" id="yes_radioactive" name="radioactive" value="radioactive" required>
            <label class="form-check-label" for="yes_radioactive">All known isotopes of this element are radioactive.</label><br>
            {% endif %}
        </div>

        <!-- TODO: Make this class hidden unless element is radioactive-->
        <div class="mb-4">
            <!-- Most Stable Isotope Found -->
            <label class="form-label" for="most_stable_isotope_found">Most Stable Isotope Found</label>
            <input class="form-control" type="number" name="most_stable_isotope_found" value="{{ element.most_stable_isotope_found }}" id="most_stable_isotope_found"><br>

            <!-- Most Stable Half-Life Found -->
            <label class="form-label" for="most_stable_halflife_found">Most Stable Half-Life Found</label>
            <input class="form-control" type="text" name="most_stable_halflife_found" value="{{ element.most_stable_halflife_found }}" id="most_stable_halflife_found"><br>
        </div>
    </div>
    
    {% if element == None %}
    <button type="submit" class="btn btn-primary">Create</button>
    {% else %}
    <button type="submit" class="btn btn-primary">Update</button>
    {% endif %}
</form>
{% endblock %}